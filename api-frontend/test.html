<!DOCTYPE html>
<html lang="de">

<head>
    <script>
        function submitForm(formName) {
            const form = document.querySelector("[r-form=\"" + formName + "\"]");
            const data = {};
            for (let element of form.querySelectorAll("[name]")) {
                const name = element.name;
                if (
                    element instanceof HTMLInputElement ||
                    element instanceof HTMLTextAreaElement ||
                    element instanceof HTMLSelectElement
                )
                    if (typeof name === 'string' && ['submit'].indexOf(name) < 0)
                        data[name] = element.value;
            }


            const url = "https://api.reisishot.pictures/send.php";

            const request = new XMLHttpRequest();
            request.open("POST", url);
            request.send(JSON.stringify(data));
            form.style = "display: none";
            const element = document.querySelector("[r-form-submitted=\"" + formName + "\"]");
            element.style = "";
            return false;
        }
    </script>
    <title>Test</title>
</head>

<body>
<form r-form="form" onsubmit="submitForm('form');">
    <p>
        <label for="email">Mail Adresse:</label>
        <input id="email" name="E-Mail" required type="email" value="a@example.com"/>
    </p>
    <p>
        <label for="freitext">Kommentare:</label>
        <textarea id="freitext" name="Freitext"></textarea>
    </p>
    <p>
        <label for="abc">A, B oder C?</label>
        <select id="abc" name="A, B oder C?">
            <option value="A">A</option>
            <option value="B">B</option>
            <option value="C">C</option>
        </select>
    </p>
    <p>
        <button name="submit" type="submit">Senden</button>
    </p>
</form>
<div r-form-submitted="form" style="display: none">
    <h1>Thank you!</h1>
</div>
</body>

</html>